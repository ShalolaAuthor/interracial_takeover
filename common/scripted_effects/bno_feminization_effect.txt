bno_mtf_effect = {
    save_scope_as = old_character
    every_character_trait = {
        add_to_list = bno_original_trait
    }
    create_character = {
        template = bno_blank_character_template
        dynasty = scope:old_character.dynasty
        location = scope:old_character.location
        save_scope_as = bno_female
        after_creation = {
            copy_inheritable_appearance_from = scope:old_character
            scope:old_character = {
                every_in_list = {
                    list = bno_original_trait
                    save_scope_as = bno_new_trait
                    scope:bno_female = {
                        add_trait = scope:bno_new_trait
                        add_trait_xp = {
                            trait = scope:bno_new_trait
                            value = 100
                        }
                    }
                }
            }
            if = {
                limit = { scope:old_character = { has_dynasty = yes } }
                set_house = scope:old_character.house
            }
            if = {
                limit = { exists = scope:old_character.mother }
                set_mother = scope:old_character.mother
            }
            if = {
                limit = { exists = scope:old_character.father }
                set_father = scope:old_character.father
            }
            add_diplomacy_skill = {
                value = scope:old_character.diplomacy
            }
            add_martial_skill = {
                value = scope:old_character.martial
            }
            add_stewardship_skill = {
                value = scope:old_character.stewardship
            }
            add_intrigue_skill = {
                value = scope:old_character.intrigue
            }
            add_learning_skill = {
                value = scope:old_character.learning
            }
            add_prowess_skill = {
                value = scope:old_character.prowess
            }
            remove_whiteboi_trait_effect = yes
            remove_chastity_trait_effect = yes
            remove_trait = femboi
            add_character_modifier = bno_elixir_genesis
            set_sexuality = bisexual
            create_story = story_bno_maintenance
            #TODO: add modifier from original character
        }
    }
    every_held_title = {
        add_to_list = old_character_titles
    }
    hidden_effect = {
        bno_transfer_all_character_modifier_mtf = yes
        if = {
            limit = {
                is_ruler = yes
            }
            scope:bno_female = {
                create_landless_adventurer_title_effect = {
                    REASON = flag:voluntary
                    FLAVOR_CHAR = scope:old_character
                }
            }
        }
        if = {
            limit = { is_ai = no }
            set_player_character = scope:bno_female
        }
    }
    hidden_effect = {
        if = {
            limit = { is_ruler = yes }
            ep3_become_landed_transfer_effect = {
		    	TITLE_RECEIVER = scope:bno_female
		    	TITLE_LIST = old_character_titles
		    	TYPE = granted
		    	REASON = flag:granted
		    }
        }
        else_if = {
            limit = { exists = liege }
            liege ?= {
                add_courtier = scope:bno_female
            }
        }
        scope:bno_female = {
            remove_character_modifier = ep3_ennobled_adventurer_modifier_1
            remove_character_modifier = ep3_ennobled_adventurer_modifier_2
            remove_character_modifier = ep3_ennobled_adventurer_modifier_3
            remove_trait = adventurer
        }
        if = {
            limit = { is_house_head = yes }
            scope:old_character.house = { set_house_head = scope:bno_female }
        }
        scope:old_character = {
            every_spouse = {
                add_to_list = old_character_spouses
            }
            every_in_list = {
                list = old_character_spouses
                divorce = scope:old_character
                marry = scope:bno_female
            }
            every_child = {
                save_scope_as = old_character_child
                scope:bno_female = {
                    adopt = scope:old_character_child
                }
            }
        }
        bno_kill_character = {
            TARGET = scope:old_character
        }
        
    }
}

#TODO: add every character modifier added by our mod here
bno_transfer_character_modifier_from_old_character_to_new_character = {
    bno_transfer_character_modifier = {
        SOURCE = scope:old_character
        TARGET = scope:bno_female
        MODIFIER = $MODIFIER$
    }
}

bno_transfer_all_character_modifier_mtf = {
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_lap_pet }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_finishing_school }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_seedfast }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cuckold_parade }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_fufu_clip }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_plugged_forever }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_smooth_castrate }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_clitty_descent }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_pillory_plaything }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_mare_night }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_elixir_genesis }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cum_for_glory }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cum_for_glory_glorified }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_a_deep_kiss_full_of_love_and_cum }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_black_bred_queen }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_blacked_queen }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_blacked_witness }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_blackened_bride }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_bred_in_secret }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_broodmakers_hand }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_ceremonial_bull }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_claimed_broodmare }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_clitty_descent }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cum_for_glory }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cum_for_glory_glorified }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cuckold_parade }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cuckolded_king }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_cum_addiction_success }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_eager_cuckold }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_ebony_bloom }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_educated_a_future_queen_of_spades }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_focus_on_work }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_a_future_queen_for_black }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_healed_by_seed_of_genesis_cum }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_healing_seed_of_genesis_bull }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_a_lively_performance_in_a_refugee_camp }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_model_father }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_model_husband }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_model_wife }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_nourishers_fatigue }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_primal_insight }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_primal_vessel }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_proven_male_strength }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_proven_no_male_strength }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_seeded_sovereign }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_sneak_bbc }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_take_good_care_of_wife }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_throne_breeder }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_tincture_of_genesis }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_white_breeder }
    bno_transfer_character_modifier_from_old_character_to_new_character = { MODIFIER = bno_withering_manhood }
    #TODO: add more modifier, in the future
}