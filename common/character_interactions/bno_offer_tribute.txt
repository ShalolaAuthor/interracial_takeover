bno_offer_tribute_interaction = {
    icon = bno_offer_tribute_interaction
    category = interaction_category_diplomacy
	interface_priority = 999
    scheme = bno_offer_tribute
    common_interaction = yes
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_slut = yes
                    }
                }
                desc = bno_offer_tribute_interaction.desc.slut
            }
            desc = bno_offer_tribute_interaction.desc.cuck
        }
    }
    send_name = bno_offer_tribute_interaction.send_name
	ignores_pending_interaction_block = yes

    populate_actor_list = {
        scope:actor = {
            every_child = {
                limit = {
                    bno_is_perfect_candidate_for_offering_trigger = yes
                }
                add_to_list = characters
            }
        }
    }

    cooldown_against_recipient = { months = 6 }

    is_shown = {
        scope:actor != scope:recipient
        scope:recipient = {
            highest_held_title_tier >= tier_kingdom
            is_ruler = yes
            is_adult = yes
            is_bbc = yes
        }
        scope:actor = {
            is_ruler = yes
            is_adult = yes
            is_bbc = no
            is_culture_bnoc = yes
            OR = {
                is_slut = yes
                is_whiteboi = yes
            }
        }
    }

    is_valid_showing_failures_only = {
        scope:actor = {
            trigger_if = {
                limit = { is_slut = yes }
                is_bno_snowbunny_and_up = yes
            }
            trigger_else = {
                is_bno_cuck_and_up = yes
            }
            any_child = {
                bno_is_perfect_candidate_for_offering_trigger = yes
            }
        }
    }

    on_accept = {
        scope:actor = {
            stress_impact = {
                compassionate = medium_stress_impact_gain
                honest = minor_stress_impact_gain
                just = minor_stress_impact_gain
            }
            send_interface_toast = {
                type = event_toast_effect_neutral
                title = bno_offer_tribute.notification.title
                desc = bno_offer_tribute.notification.desc

                left_icon = scope:secondary_actor
                right_icon = scope:recipient
    
                ### Create and Equip Chastity Piercing for Daughter
                scope:secondary_actor = {
                    bno_create_artifact_bno_chastity_piercing_only_effect = {
                        CREATOR = scope:actor
                    }
                    random_character_artifact = {
                        limit = {
                            has_variable = bno_chastity_piercing
                        }
                        save_scope_as = bno_chastity_piercing
                    }
                    scope:bno_chastity_piercing = {
                        equip_artifact_to_owner = yes   
                    }
                }
                ### END

                start_scheme = {
                    type = bno_offer_tribute
                    target_character = scope:recipient
                    save_scope_as = bno_offer_tribute_scheme
                }
                hidden_effect = {
                    scope:bno_offer_tribute_scheme = {
                        set_variable = {
                            name = bno_tribute
                            value = scope:secondary_actor
                        }
                    }
                }
            }
        }
    }

    auto_accept = yes

    ai_targets = {
        ai_recipients = neighboring_rulers
    }

    ai_frequency_by_tier = {
		barony = 0
		county = 1
		duchy = 1
		kingdom = 1
		empire = 1
		hegemony = 1
	}

    ai_will_do = {
        base = 100
    }
}