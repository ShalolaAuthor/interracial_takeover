bno_apply_elixir_interaction = {
    interface_priority = 999
    icon = icon_bno_apply_elixir_interaction

    category = interaction_category_friendly
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_a_girl = yes
                    }
                    scope:recipient = {
                        is_bbc = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.female.bbc
            }
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_a_girl = yes
                    }
                    scope:recipient = {
                        is_bbc = no
                        is_a_male = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.female.whiteboi
            }
            triggered_desc = {
                trigger = {
                    scope:actor = scope:recipient
                    scope:actor = { is_bbc = yes }
                }
                desc = bno_apply_elixir_interaction.desc.self.bbc
            }
            triggered_desc = {
                trigger = {
                    scope:actor = scope:recipient
                    scope:actor = {
                        is_a_male = yes
                        is_bbc = no
                    }
                }
                desc = bno_apply_elixir_interaction.desc.self.whiteboi
            }
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_bbc = yes
                    }
                    scope:recipient = {
                        is_bbc = no
                        is_a_male = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.bbc.whiteboi
            }
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_bbc = yes
                    }
                    scope:recipient = {
                        is_bbc = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.bbc.bbc
            }
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_whiteboi = yes
                    }
                    scope:recipient = {
                        is_bbc = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.whiteboi.bbc
            }
            triggered_desc = {
                trigger = {
                    scope:actor = {
                        is_whiteboi = yes
                    }
                    scope:recipient = {
                        is_whiteboi = yes
                        NOT = { this = scope:actor }
                    }
                }
                desc = bno_apply_elixir_interaction.desc.whiteboi.whiteboi
            }
        }
    }
    common_interaction = yes

    is_shown = {
        scope:actor = {
            is_adult = yes
            is_bno_actor = yes
            any_character_artifact = {
                OR = {
                    has_variable = bno_tincture_of_genesis
                    has_variable = bno_elixir_of_the_black_womb
                }
            }
        }
        scope:recipient = {
            OR = {
                trigger_if = {
                    limit = {
                        this = scope:actor
                    }
                    is_bbc = yes
                }
                is_bbc = yes
                is_whiteboi = yes
            }
        }
    }

    is_highlighted = {
        always = yes
    }

    send_option = { # tincture of genesis
        is_valid = {
            scope:actor = {
                any_character_artifact = {
                    has_variable = bno_tincture_of_genesis
                }
            }
            scope:recipient = {
                is_a_male = yes
            }
        }
        flag = bno_apply_elixir_interaction_bno_tincture_of_genesis
    }

    send_option = { # elixir of the black womb
        is_valid = {
            scope:actor = {
                any_character_artifact = {
                    has_variable = bno_elixir_of_the_black_womb
                }
            }
            scope:recipient = {
                is_bbc = no
                is_a_male = yes
            }
        }
        flag = bno_apply_elixir_interaction_bno_elixir_of_the_black_womb
    }
    on_accept = {
        if = {
            limit = { scope:bno_apply_elixir_interaction_bno_tincture_of_genesis = yes }
            scope:actor = {
                trigger_event = bno_apply_elixir.0001
            }
        }
        else_if = {
            limit = { scope:bno_apply_elixir_interaction_bno_elixir_of_the_black_womb = yes }
            scope:actor = {
                trigger_event = bno_apply_elixir.0002
            }
        }
    }

    auto_accept = yes

    ai_targets = {
        ai_recipients = spouses
        ai_recipients = courtiers
    }

    ai_potential = {
        any_character_artifact = {
            OR = {
                has_variable = bno_tincture_of_genesis
                has_variable = bno_elixir_of_the_black_womb
            }
        }
    }

    ai_will_do = {
        base = 0
        bno_white_girl_modifier_biggest = yes
    }

    ai_frequency = 1
}